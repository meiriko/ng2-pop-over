{"version":3,"file":"pop-over-trigger.directive.js","sourceRoot":"","sources":["../src/pop-over-trigger.directive.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAoC,UAAU,EAAE,MAAM,eAAe,CAAC;AAC/F,OAAO,EAAE,gBAAgB,EAAE,MAAM,sBAAsB,CAAC;AACxD,OAAO,EAAE,UAAU,EAAE,MAAM,MAAM,CAAC;;IAU9B,wBAAoB,KAAiB;QAAjB,UAAK,GAAL,KAAK,CAAY;KACpC;IAED,iCAAQ,GAAR;KACC;IAED,oCAAW,GAAX,UAAY,OAAsB;QAC9B,EAAE,CAAA,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAA,CAAC;YACjC,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;QACD,EAAE,CAAA,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAA,CAAC;YACjC,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;KACJ;IAEO,kCAAS,GAAjB;QAAA,iBAWC;QAVG,EAAE,CAAA,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACd,EAAE,CAAA,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBACb,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,UAAU,CAAC,KAAK,OAAhB,UAAU,EACrB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC;qBACpB,GAAG,CAAC,UAAA,SAAS,IAAI,OAAA,SAAS,CAAC,IAAI,EAAE,EAAhB,CAAgB,CAAC;qBAClC,GAAG,CAAC,UAAC,SAAiB,IAA6B,OAAA,UAAU,CAAC,SAAS,CAAa,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE,SAAS,CAAC,EAArE,CAAqE,CAAC,CAAC,CAAC;aAC3I;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,UAAU,CAAC,KAAK,EAAc,CAAC;aACxD;SACJ;KACJ;IAEO,kCAAS,GAAjB;QAAA,iBAWC;QAVG,EAAE,CAAA,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACd,EAAE,CAAA,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBACb,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,UAAU,CAAC,KAAK,OAAhB,UAAU,EACzB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC;qBACpB,GAAG,CAAC,UAAA,SAAS,IAAI,OAAA,SAAS,CAAC,IAAI,EAAE,EAAhB,CAAgB,CAAC;qBAClC,GAAG,CAAC,UAAC,SAAiB,IAA6B,OAAA,UAAU,CAAC,SAAS,CAAa,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE,SAAS,CAAC,EAArE,CAAqE,CAAC,CAAC,CAAC;aACvI;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,UAAU,CAAC,KAAK,EAAc,CAAC;aACxD;SACJ;KACJ;;gBA/CJ,SAAS,SAAC;oBACP,QAAQ,EAAE,oBAAoB;iBACjC;;;;gBAN4D,UAAU;;;4BAQlE,KAAK,SAAC,kBAAkB;2BACxB,KAAK,SAAC,SAAS;2BACf,KAAK,SAAC,SAAS;;yBAVpB;;SAOa,cAAc","sourcesContent":["import { Directive, Input, OnInit, OnChanges, SimpleChanges, ElementRef } from '@angular/core';\nimport { PopOverComponent } from \"./pop-over.component\";\nimport { Observable } from \"rxjs\";\n\n@Directive({\n    selector: '[pop-over-trigger]'\n})\nexport class PopOverTrigger implements OnInit, OnChanges {\n    @Input('pop-over-trigger') popover: PopOverComponent;\n    @Input('show-on') showOn: string;\n    @Input('hide-on') hideOn: string;\n\n    constructor(private elRef: ElementRef) {\n    }\n\n    ngOnInit(): void {\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if(changes.hasOwnProperty('showOn')){\n            this.setShowOn();\n        }\n        if(changes.hasOwnProperty('hideOn')){\n            this.setHideOn();\n        }\n    }\n\n    private setHideOn(): void {\n        if(this.popover) {\n            if(this.hideOn) {\n                this.popover.hideOn = Observable.merge(\n                        ...this.hideOn.split(',')\n                            .map(eventType => eventType.trim())\n                            .map((eventType: string): Observable<MouseEvent> => Observable.fromEvent<MouseEvent>(this.elRef.nativeElement, eventType)));\n            } else {\n                this.popover.hideOn = Observable.empty<MouseEvent>();\n            }\n        }\n    }\n\n    private setShowOn(): void {\n        if(this.popover) {\n            if(this.showOn) {\n                this.popover.showOn = Observable.merge(\n                    ...this.showOn.split(',')\n                        .map(eventType => eventType.trim())\n                        .map((eventType: string): Observable<MouseEvent> => Observable.fromEvent<MouseEvent>(this.elRef.nativeElement, eventType)));\n            } else {\n                this.popover.showOn = Observable.empty<MouseEvent>();\n            }\n        }\n    }\n}\n"]}